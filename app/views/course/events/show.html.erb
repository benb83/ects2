<h3>
  Course Event
  <span class="pull-right"><small><%= link_to '<span class="glyphicon glyphicon-pencil"></span>'.html_safe, edit_event_path(@course_event.id), { :class => 'btn btn-sm btn-default', :title => "Edit" } %></small></span>
</h3>
<hr>

<form class="form-horizontal">
  <div class="form-group">
    <label class="col-md-2 control-label">Start date</label>
    <div class="col-md-10">
      <p class="form-control-static"><%= @course_event.start_date.strftime('%A %d %B %Y') %></p>
    </div>
  </div>
  <div class="form-group">
    <label class="col-md-2 control-label">End date</label>
    <div class="col-md-10">
      <p class="form-control-static"><%= @course_event.end_date.strftime('%A %d %B %Y') %></p>
    </div>
  </div>
  <div class="form-group">
    <label class="col-md-2 control-label">Instructor</label>
    <div class="col-md-10">
      <p class="form-control-static"><%= @course_event.instructor.nil? ? "TBC" : "<em>#{@course_event.instructor.cid}</em> #{@course_event.instructor.master.display_name}".html_safe %></p>
    </div>
  </div>
 </form>

<h3>
  Candidates
  <span class="pull-right"><small><button id="add-candidate-cmd" class="btn btn-sm btn-default" title="Assign Candidate"><span class="glyphicon glyphicon-plus"></span></button></small></span>
</h3>
<hr>
<div class="row">
  <div class="col-md-12">
    <table class="table table-condensed table-ects table-bordered" id="event_candidates">
      <tbody>
        <tr class="subtitle">
          <th style="width: 15%;">Candidate ID</th>
          <th style="width: 25%;">Family Name</th>
          <th style="width: 25%;">Given Name</th>
          <th>Other Names</th>
          <th style="width: 32px;">&nbsp;</th>
        </tr>
        <% if @course_event.candidates.any? %>
        <% @course_event.candidates.each do |c| %>
        <tr class="normal">
          <td><%= c.candidate.cid %></th>
          <td><%= c.candidate.master.family_name %></td>
          <td><%= c.candidate.master.given_name %></td>
          <td><%= c.candidate.master.other_names %></td>
          <td style="text-align: center;"><%= link_to '<span class="glyphicon glyphicon-remove"></span>'.html_safe, event_candidate_path(c), method: :delete, data: { confirm: 'Are you sure?' }, title: 'Remove' %></td>
        </tr>
        <% end %>
        <% else %>
        <tr class="no_candidates">
          <td colspan="5"><span class="text-danger">No candidates found.</span></td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>

<%= render "add_candidate" %>